{"ast":null,"code":"import { combineReducers } from \"redux\";\nimport * as Actions from \"./actions\";\nconst initialStore = {\n  catalog: {},\n  // list of all products\n  prices: {},\n  // price range\n  categories: {},\n  // list of categories from the server\n  colors: {},\n  // list of the colors\n  brands: {},\n  isLoading: {},\n  // the display of the boot process\n  sortOnPage: \"Date\",\n  // filter category Sort By in the shop drop-down list (by default \"Date\")\n  itemsOnPage: \"4\",\n  // number of products in the View dropdown on the shop page (by default \"4\")\n  cart: [],\n  // products in the cart {id, amount}\n  sum: 0,\n  // sum of product prices in the cart\n  priceFilter: [21, 110],\n  // filter by price\n  //onShopPage: false\n  pagination: \"0\",\n  // текущая страница товара\n  singleImageItem: {},\n  // список картинок ОДНОГО товара\n  singleRevievItem: {},\n  // отзыв к ОДНОМУ товару\n  activeImg: 0,\n  // активная картинка карусели\n  itemMemory: \"\",\n  // запоминаем последний просмотренный элемент каталога для перезагрузки картинок и описания\n  currentColorFilter: \"ALL\",\n  // текущий фильтр по цвету\n  currentCategoryFilter: \"1\" // и тут я обнялся и горько заплакал\n\n};\n\nfunction rootReducer(store = initialStore, action) {\n  switch (action.type) {\n    case Actions.LOAD_CATALOG:\n      // обновляем каталог с сервера\n      return { ...store,\n        catalog: { ...action.payload\n        }\n      };\n\n    case Actions.LOAD_PRICES:\n      // список диапазона цен с сервера\n      return { ...store,\n        prices: { ...action.payload\n        }\n      };\n\n    case Actions.LOAD_CATEGORIES:\n      // список категорий с сервера\n      return { ...store,\n        categories: { ...action.payload\n        }\n      };\n\n    case Actions.LOAD_COLORS:\n      // список цветов с сервера\n      return { ...store,\n        colors: { ...action.payload\n        }\n      };\n\n    case Actions.LOAD_BRANDS:\n      // список брендов с сервера\n      return { ...store,\n        brands: { ...action.payload\n        }\n      };\n\n    case Actions.UPDATE_LOADING:\n      // обновить статус загрузки для одного из ключей\n      return { ...store,\n        isLoading: { ...store.isLoading,\n          ...action.payload\n        }\n      };\n\n    case Actions.UPDATE_SORT_ON_PAGE:\n      // сортировка отображаемых элементов в shop (Sort By)\n      return { ...store,\n        sortOnPage: action.payload,\n        pagination: \"0\"\n      };\n\n    case Actions.UPDATE_ITEM_ON_PAGE:\n      // кол-во отображаемых элементов в shop (View)\n      return { ...store,\n        itemsOnPage: action.payload,\n        pagination: \"0\"\n      };\n\n    case Actions.UPDATE_CART:\n      // добавляем-удаляем товары из корзины\n      return { ...store,\n        cart: [...action.payload]\n      };\n\n    case Actions.UPDATE_SUM:\n      // сумма покупок в корзине\n      return { ...store,\n        sum: action.payload\n      };\n\n    case Actions.UPDATE_PRICE_FILTER:\n      // фильтр по ценам\n      return { ...store,\n        priceFilter: [...action.payload],\n        pagination: \"0\"\n      };\n\n    case Actions.ON_PAGE_SHOP_FILTER:\n      // костыль для осознания того факта, что мы находимся на странице, где работают фильтры (shop)\n      return { ...store,\n        onShopPage: action.payload\n      };\n\n    case Actions.NUMERATOR:\n      // вычисляем, сколько кнопок для листания страниц делать в секции shop (больше двух вряд ли получится)\n      return { ...store,\n        pagination: action.payload\n      };\n\n    case Actions.UPLOAD_SINGLE_IMAGE_ITEM:\n      // меняем список картинок для ОДНОГО товара\n      return { ...store,\n        singleImageItem: { ...action.payload\n        }\n      };\n\n    case Actions.UPLOAD_SINGLE_REVIEW_ITEM:\n      // меняем отзыв для ОДНОГО товара\n      return { ...store,\n        singleReviewItem: { ...action.payload\n        }\n      };\n\n    case Actions.ACTIVE_IMG:\n      // активная картинка карусели\n      return { ...store,\n        activeImg: action.payload\n      };\n\n    case Actions.ITEM_MEMORY:\n      // последний просмотренный в индивидуальном порядке товар\n      return { ...store,\n        itemMemory: action.payload\n      };\n\n    case Actions.CURRENT_COLOR_FILTER:\n      // фильтр по цвету\n      return { ...store,\n        currentColorFilter: action.payload,\n        pagination: \"0\"\n      };\n\n    case Actions.CURRENT_CATEGORY_FILTER:\n      // фильтр по категории. Деградация или прогресс?\n      return { // и тут мне пришло в голову сбрасывать пагинацию прямо на стороне редусера. Посмотрим, что из этого выйдет.\n        ...store,\n        currentCategoryFilter: action.payload,\n        pagination: \"0\" // ОХУЕТЬ!!! РАБОТАЕТ!!!\n\n      };\n\n    default:\n      return store;\n  }\n\n  ;\n}\n\n;\nexport default (() => combineReducers({\n  app: rootReducer\n}));","map":{"version":3,"sources":["C:/Users/Dinar/Desktop/25_MyFrontendProject-master/src/store/reducer.js"],"names":["combineReducers","Actions","initialStore","catalog","prices","categories","colors","brands","isLoading","sortOnPage","itemsOnPage","cart","sum","priceFilter","pagination","singleImageItem","singleRevievItem","activeImg","itemMemory","currentColorFilter","currentCategoryFilter","rootReducer","store","action","type","LOAD_CATALOG","payload","LOAD_PRICES","LOAD_CATEGORIES","LOAD_COLORS","LOAD_BRANDS","UPDATE_LOADING","UPDATE_SORT_ON_PAGE","UPDATE_ITEM_ON_PAGE","UPDATE_CART","UPDATE_SUM","UPDATE_PRICE_FILTER","ON_PAGE_SHOP_FILTER","onShopPage","NUMERATOR","UPLOAD_SINGLE_IMAGE_ITEM","UPLOAD_SINGLE_REVIEW_ITEM","singleReviewItem","ACTIVE_IMG","ITEM_MEMORY","CURRENT_COLOR_FILTER","CURRENT_CATEGORY_FILTER","app"],"mappings":"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","sourcesContent":["import { combineReducers } from \"redux\";\nimport * as Actions from \"./actions\";\n\nconst initialStore = {\n\tcatalog: {}, // list of all products\n\tprices: {}, // price range\n\tcategories: {}, // list of categories from the server\n\tcolors: {}, // list of the colors\n\tbrands: {},\n\tisLoading: {}, // the display of the boot process\n\tsortOnPage: \"Date\", // filter category Sort By in the shop drop-down list (by default \"Date\")\n\titemsOnPage: \"4\", // number of products in the View dropdown on the shop page (by default \"4\")\n\tcart: [], // products in the cart {id, amount}\n\tsum: 0, // sum of product prices in the cart\n\tpriceFilter: [21, 110], // filter by price\n\t//onShopPage: false\n\tpagination: \"0\", // текущая страница товара\n\tsingleImageItem: {}, // список картинок ОДНОГО товара\n\tsingleRevievItem: {}, // отзыв к ОДНОМУ товару\n\tactiveImg: 0, // активная картинка карусели\n\titemMemory: \"\", // запоминаем последний просмотренный элемент каталога для перезагрузки картинок и описания\n\tcurrentColorFilter: \"ALL\", // текущий фильтр по цвету\n\tcurrentCategoryFilter: \"1\", // и тут я обнялся и горько заплакал\n};\n\nfunction rootReducer(store = initialStore, action) {\n\n\tswitch (action.type) {\n\t\tcase Actions.LOAD_CATALOG: // обновляем каталог с сервера\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcatalog: { ...action.payload },\n\t\t\t};\n\n\t\tcase Actions.LOAD_PRICES: // список диапазона цен с сервера\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tprices: { ...action.payload },\n\t\t\t};\n\n\t\tcase Actions.LOAD_CATEGORIES: // список категорий с сервера\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcategories: { ...action.payload },\n\t\t\t};\n\n\t\tcase Actions.LOAD_COLORS: // список цветов с сервера\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcolors: { ...action.payload },\n\t\t\t};\n\n\t\tcase Actions.LOAD_BRANDS: // список брендов с сервера\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tbrands: { ...action.payload },\n\t\t\t};\n\n\t\tcase Actions.UPDATE_LOADING: // обновить статус загрузки для одного из ключей\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tisLoading: { ...store.isLoading, ...action.payload }\n\t\t\t};\n\n\t\tcase Actions.UPDATE_SORT_ON_PAGE: // сортировка отображаемых элементов в shop (Sort By)\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tsortOnPage: action.payload,\n\t\t\t\tpagination: \"0\",\n\t\t\t};\n\n\t\tcase Actions.UPDATE_ITEM_ON_PAGE: // кол-во отображаемых элементов в shop (View)\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\titemsOnPage: action.payload,\n\t\t\t\tpagination: \"0\",\n\t\t\t};\n\n\t\tcase Actions.UPDATE_CART: // добавляем-удаляем товары из корзины\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcart: [...action.payload],\n\t\t\t};\n\n\t\tcase Actions.UPDATE_SUM: // сумма покупок в корзине\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tsum: action.payload,\n\t\t\t};\n\n\t\tcase Actions.UPDATE_PRICE_FILTER: // фильтр по ценам\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tpriceFilter: [...action.payload],\n\t\t\t\tpagination: \"0\",\n\t\t\t};\n\n\t\tcase Actions.ON_PAGE_SHOP_FILTER: // костыль для осознания того факта, что мы находимся на странице, где работают фильтры (shop)\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tonShopPage: action.payload,\n\t\t\t};\n\n\t\tcase Actions.NUMERATOR: // вычисляем, сколько кнопок для листания страниц делать в секции shop (больше двух вряд ли получится)\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tpagination: action.payload,\n\t\t\t};\n\n\t\tcase Actions.UPLOAD_SINGLE_IMAGE_ITEM: // меняем список картинок для ОДНОГО товара\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tsingleImageItem: { ...action.payload },\n\t\t\t};\n\n\t\tcase Actions.UPLOAD_SINGLE_REVIEW_ITEM: // меняем отзыв для ОДНОГО товара\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tsingleReviewItem: { ...action.payload },\n\t\t\t};\n\n\t\tcase Actions.ACTIVE_IMG: // активная картинка карусели\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tactiveImg: action.payload,\n\t\t\t};\n\n\t\tcase Actions.ITEM_MEMORY: // последний просмотренный в индивидуальном порядке товар\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\titemMemory: action.payload,\n\t\t\t};\n\n\t\tcase Actions.CURRENT_COLOR_FILTER: // фильтр по цвету\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tcurrentColorFilter: action.payload,\n\t\t\t\tpagination: \"0\",\n\t\t\t};\n\n\t\tcase Actions.CURRENT_CATEGORY_FILTER: // фильтр по категории. Деградация или прогресс?\n\t\t\treturn { // и тут мне пришло в голову сбрасывать пагинацию прямо на стороне редусера. Посмотрим, что из этого выйдет.\n\t\t\t\t...store, \n\t\t\t\tcurrentCategoryFilter: action.payload,\n\t\t\t\tpagination: \"0\", // ОХУЕТЬ!!! РАБОТАЕТ!!!\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn store;\n\n\t};\n};\n\nexport default () => combineReducers({\n\tapp: rootReducer,\n});"]},"metadata":{},"sourceType":"module"}